import "core-js/stable";
import "regenerator-runtime/runtime";
import { processTest, populateTransaction } from './test.fixture';

const contractName = "IRentalProtocol";
const contractAddr = "0x5495bec6703adc6d395e50bb2c6a93bb4d2af56a";
const testNetwork = "polygon";
const chainID = 137;
const testLabel = "Rental - Rent";  // <= Name of the test
const testDirSuffix = "rental-rent"; // <= directory to compare device snapshots to
const signedPlugin = false;

const devices = [
  {
      name: "nanos",
      label: "Nano S",
      steps: 7 + 2, // <= Define the number of steps for this test case and this device
  },
  {
      name: "nanox",
      label: "Nano X",
      steps: 7, // <= Define the number of steps for this test case and this device
  },
  {
      name: "nanosp",
      label: "Nano S+",
      steps: 7, // <= Define the number of steps for this test case and this device
  },
];

// https://polygonscan.com/tx/0x0e6c571e2dea22e5250cc2b06e5b132610902ad15ba4ee23cbea46702636e9e2
const inputData = "0x8d259eb10000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002e000000000000000000000000046860b4dfe30ce16e6c3100c1be4344cd5941959000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000009c78ee466d6cb57a4d01fd887d2b5dfb2d46288f00000000000000000000000000000000000000000000000006f05b59d3b2000000000000000000000000000000000000000002ac21410048732257daf76981f100000000000000000000000000000000000000000000000000000000631ad595000000000000000000000000000000000000000000000000000000000000000300000000000000000000000085bc2e8aaad5dbc347db49ea45d95486279ed9180000000000000000000000000000000000000000000000000000000002faf0830000000000000000000000000000000000000000000000000000000000093a8000000000000000000000000000000000000000000000000000000000000005dc00000000000000000000000085bc2e8aaad5dbc347db49ea45d95486279ed9180000000000000000000000000000000000000000000000000000000001c9c3920000000000000000000000000000000000000000000000000000000000093a8000000000000000000000000000000000000000000000000000000000000005dc00000000000000000000000085bc2e8aaad5dbc347db49ea45d95486279ed91800000000000000000000000000000000000000000000000000000000001e86360000000000000000000000000000000000000000000000000000000000093a8000000000000000000000000000000000000000000000000000000000000005dc0000000000000000000000000000000000000000000000000000000000000000";
const serializedTx = populateTransaction(contractAddr, inputData, chainID);

devices.forEach((device) => {
  processTest(device, contractName, testLabel, testDirSuffix, "", signedPlugin, serializedTx, testNetwork);
});
